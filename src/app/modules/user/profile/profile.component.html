<div *ngIf="loder" style="text-align: center; margin-top: 200px;margin-bottom: 200px;">
    <div class="loader">Loading...</div>
   </div>
 
<div class="card" *ngIf="!loder">
  <div class="card-header">
      <strong class="card-title">Profile</strong>
  </div>
  <div class="card-body">

 

     <div class="row">
        <div class="col-md-6">
            <section class="card">
                <div class="twt-feed bg-dark">
                    <div class="corner-ribon black-ribon">
                        <i class="fa fa-user"></i>
                    </div>
                    <div class="fa fa-user wtt-mark"></div>

                    <div class="media">
                        <a href="#">
                            <img class="align-self-center rounded-circle mr-3" style="width:85px; height:85px;" alt="" src="assets/images/user.png">
                        </a>
                        <div class="media-body">
                            <h2 class="text-white display-6">{{profile.firstname}} {{profile.lastname}} </h2>
                            <p class="text-light">{{profile.mobile}}</p>
                        </div>
                    </div>
 
                </div> 
                <div class="twt-write col-sm-12">
                   <p>Email : {{profile.email}}</p>
                   <p>Dob : {{profile.birthday}}</p>
                   <p>Created At : {{profile.createdtime}}</p>
                </div>
                
            </section>
        </div>

        <div class="col-md-6">
          <h4><i class="fa fa-map-marker"></i> Address</h4>
          <br>
          <p><i class="fa fa-angle-double-right"></i> City : {{profile.mailingcity}}</p>
          <p><i class="fa fa-angle-double-right"></i> Country : {{profile.mailingcountry}}</p>
          <p><i class="fa fa-angle-double-right"></i> P.O. Box : {{profile.mailingpobox}}</p>
          <footer class="twt-footer"> 
              <span class="pull-left">
                  <a routerLink="edit/{{profile.record}}" class="btn btn-success">Edit</a> &nbsp; &nbsp;
                  <button type="button" mat-raised-button data-toggle="modal" data-target="#exampleModal">
                        change Password
                      </button>
              </span>
          </footer>
        </div>

     </div>
  </div>
</div>


<!-- Button trigger modal -->

      
      <!-- Modal -->
      <div  *ngIf="!loder" class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Change Password</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form #chngPass="ngForm" class="example-form" (ngSubmit)="chngPass.valid && changePass(chngPass.value)" novalidate>
                  
                
                <mat-form-field appearance="outline" class="example-full-width">
                    <mat-label>Old Password</mat-label>
                    <input type="password" name="old_password" ngModel class="example-full-width" required  matInput>
                </mat-form-field>
         
                 
            
                <mat-form-field appearance="outline" class="example-full-width">
                        <mat-label>New Password</mat-label>
                        <input type="password" #pass="ngModel" name="new_password" ngModel class="example-full-width" required matInput>
                </mat-form-field>
           

            
                <mat-form-field appearance="outline" class="example-full-width">
                        <mat-label>Conform Password</mat-label>
                        <input type="password" #cnfpass="ngModel" name="Confirm_password" ngModel class="example-full-width" required matInput>
                        <mat-hint *ngIf="pass.value != cnfpass.value && cnfpass.dirty" class="text-danger">Password and Confirm Password should be match</mat-hint>
                
                </mat-form-field>
                <input type="hidden" name="module" ngModel="user" >
                <input type="hidden" name="view" ngModel="change_password" >
                <input type="hidden" name="record" ngModel="{{profile.record}}" >
                <input type="hidden" name="username" ngModel="{{profile.email}}" >
                <button type="submit" [disabled]="!chngPass.valid || pass.value != cnfpass.value" class="btn btn-primary btn-block">Save changes</button>
   
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary " data-dismiss="modal">Close</button> 
            </div>
          </div>
        </div>
      </div>